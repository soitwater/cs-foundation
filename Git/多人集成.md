# 多人集成

## git push 应该是同一分支的上下游
- 一般`git push`要求必须是相同分支
- 但可以使用`git push -f`将丢失历史`commit`

##  禁止对集成分支(公共分支)进行变基操作
- 因为`rebase`操作
- ????

## 不同人修改了不同的文件
略

## 不同人修改了相同的文件的不同区域
`git merge`

## 不同人修改了相同的文件的相同区域
```shell
git checkout 目标分支
git merge 合进来的分支(可与目标分支相同)
# git 对于合并冲突的位置,要求进行人工抉择(git 会打上标记 <<<<<<< >>>>>>>)

# git merge 时需关注 Git 的提示(一般会提示 fix merge 还是 回退到merge前 )
```

## A同时修改了文件名与文件内容, B不知道A对文件名的修改
```shell
git 足够智能,能自己处理这种情况,会以修改了文件名与内容后的情况为准
```

## A先把 index.html 改为 index1.html,B后把 index.html 改为 index2.html
```shell
git 会提示冲突
B应该自己找A协商文件名的冲突,决定文件的最终命名
git 会提示一下操作的：
git rm [文件名] # 应用场景：删除暂存区的冲突文件
git add [文件名]
git commit
```

## Github组织
- 组织里的仓库的`Settings`里可以配置权限

## 工作流
- 主干开发(只有一条分支,适合成员人少,成员素质高)
- Github Flow(子功能拉分支,功能开发成熟后再合并)
- Gitlab Flow(带环境的分支,不同的环境为不同的分支,production分支,develop分支,master分支,每一个分支的开发都需要被测试)

## Github 仓库的 Insights 可以看到许多仓库相关的信息
- 在Insights里的NetWork可以看到多个分支
- 在Pull Request可以合并多个分支
- Issues 可以添加不同`Labels`
- Projects可以创建看板(类似早会的需求/任务......) 
- `CodeReview`:在`Settings`中左侧的`Branches`里为集成分支添加规则：
  * 禁止 push
  * merge 前必须通过指定成员 review 代码
- wiki：详细的指导文档

## CI/CD
提交代码后:  
- 自动集成
- 自动测试
- 自动部署