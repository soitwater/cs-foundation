# 场景操作

## 放弃本地修改,强制使用线上版本覆盖本地版本
```
git fetch --all
git reset --hard [需要覆盖的分支]
```

## 放弃本地文件的修改(未 git add 到暂存区)
```
git checkout . # 放弃所有的文件
git checkout -- filename # 放弃指定的文件的修改
```

## 放弃本地仓库的所有新增文件(未 git add 到暂存区)
```
git clean -xdf
```

## 放弃暂存区的修改(已经 git add)
```
git reset HEAD . # 放弃暂存区所有文件修改
git reset HEAD filename # 放弃暂存区某个文件的修改
```

## 放弃某次commit
```
git reset commit_id
```

## 该拉哪一个分支
- 假如是为了debug,那么应该从`master`拉分支,因为`master`是线上代码  
- 假如是为了增加新功能,那么应该从`develop`拉分支,因为`develop`是开发分支,分支内有许多新功能(未测试)
- `git checkout -t origin/2.0.0` 拉取远程分支 2.0.0 到本地
- `git checkout -b 2.0.0` -b 是 base 的意思,以当前分支为基础,创建新的本地分支

## 重命名分支
```shell
git branch -m oldbranchname newbranchname # 1. 本地分支重命名
# 2.远程分支重命名 .如果修改远程分支，只需要将本地分支重命名为新分支名称，然后删除远程分支，再把本地分支上传就可以了
```

## 切换分支前最好提交当前分支代码
```shell
# 一个坑
# 在切换分支之前,最好先提交当前分支的代码,
# 避免在切换分支后,因为分支之间相同文件可能因为命名不同,导致修改到错误的分支上的文件去了...
```

## 发起Merge Request
- 在GitLab上进入仓库,在侧边栏Repository-Commits,在正文Create merge request
- 记得确认 Source branch 以及 Target branch
- 管理员通过后,在侧边栏Repository-Tags,正文New tag
- 之后在侧边栏CI/CD-Pipelines
