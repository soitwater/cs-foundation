# 网络基础

- HTTP 是 TCP/IP的子集，把与互联网相关联的协议集合起来总称为 TCP/IP
- TCP/IP 包括：DNS | HTTP FTP | TCP IP ...
- TCP/IP 协议族分层设计：
  * `应用层`：各类通用的应用服务（FTP DNS...）
  * `传输层`：对上层应用层，提供处于网络连接中的两台计算机之间的数据传输（TCP传输控制协议 UDP用户数据报协议）
  * `网络层`：处理网络上流动的数据包通过怎样的路线（从众多选项中选择一条传输路线）传输到对方计算机，数据包是网络传输的最小数据单位
  * `链路层`：又称网络接口层，即处理连接网络的硬件部分，包括控制操作系统、控制硬件驱动、控制网卡等
- 与HTTP密切相关的IP、TCP、DNS协议
  * `IP`：负责确保数据传输到对方位置，位于网络层
    1. IP协议最重要的是IP地址（节点被分配到的地址），MAC地址（网卡所属的固定地址）
    2. ARP协议：在网络传输过程中，会经过多台计算机或网络设备，根据中转设备的MAC地址即可查找下一中转目标，也可以根据通信方的IP地址反查所需的MAC地址
  * `TCP`: 确保可靠性，位于传输层
    1. 切割HTTP报文为单位数据包
    2. 三次握手：（SYN-synchronize ACK-acknowledgement）
       - 发送端首先发送一个带SYN标志的数据包到对方
       - 接收端接收后,回传一个带SYN/ACK标志的数据包（表示"已收到"）
       - 发送端再回传一个带ACK标志的数据包
  * `DNS`：负责域名解析，与HTTP协议同位于应用层
    1. 将域名解析为IP地址，或将IP地址解析为域名
- URI 与 URL
  * 区别：
  * 绝对URI格式：  
    ```
    http://user:pass@www.example.jp:80/dir/index.html?uid=1#ch1  
    协议方案名 :// 登陆认证信息 @ 服务器地址 : 端口号 / 文件路径 ? 查询字符串 # 片段标识符
    ``` 
- http://www.baidu.com/ 中www只是web服务器的意思


## 问题
- 从输入网址到打开网页？
  1. `http://www.baidu.com/sample.html` (浏览器用url说：给我sample.html) 生成HTTP请求
     * 解析URL; 
     * 根据URL生成请求；	
     * 向DNS服务器查询web服务器的IP地址：这一步由全世界的DNS服务器接力完成	
     * 委托协议栈发送信息	
  2. 协议栈：一款软件，把信件放入信封，在信封上写下目的地信息
      网卡：硬件，把信封变成电信号，通过网络发送出去
  3. 集线器，交换机：个人电脑在局域网中借集线器，交换机到达路由器
      路由器：互联网的入口，网络运营商会将信封送到目的地
  4. 接入网：光纤，电话线等；
      网络运营商：离你家最近的邮局，它与世界各地的网络运营商间以互联网互联
  5. 防火墙，缓存服务器：信封到达目标WEB服务器，遇到保安——防火墙
     之后信封中可被重新利用部分被保存在缓存服务器
      （可能会遇到负载均衡器——将信封发到多个目的地）
      （可能会应用互联网中的其他缓存服务）
  6. WEB服务器：通过“协议栈”解包，将响应消息装入信封，发回邮箱
